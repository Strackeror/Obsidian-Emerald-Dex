{"mappings":"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","sources":["<anon>","js/search.js"],"sourcesContent":["var $ad1ba05b7cbb749b$exports = {};\n/**\n * Search\n *\n * Basically just an improved version of utilichart\n *\n * Dependencies: jQuery, battledata, search-index\n * Optional dependencies: pokedex, moves, items, abilities\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n */ (function(exports, $) {\n    \"use strict\";\n    function Search(elem, viewport) {\n        this.$el = $(elem);\n        this.el = this.$el[0];\n        this.$viewport = viewport ? $(viewport) : $(window);\n        this.urlRoot = \"\";\n        this.q = undefined; // uninitialized\n        this.exactMatch = false;\n        this.resultSet = null;\n        this.filters = null;\n        this.sortCol = null;\n        this.renderedIndex = 0;\n        this.renderingDone = true;\n        this.externalFilter = false;\n        this.cur = {};\n        this.$inputEl = null;\n        this.gen = 9;\n        this.mod = null;\n        this.engine = new DexSearch();\n        window.search = this;\n        var self = this;\n        this.$el.on(\"click\", \".more button\", function(e) {\n            e.preventDefault();\n            self.updateScroll(true);\n        });\n        this.$el.on(\"click\", \".filter\", function(e) {\n            e.preventDefault();\n            self.removeFilter(e);\n            if (self.$inputEl) self.$inputEl.focus();\n        });\n        this.$el.on(\"click\", \".sortcol\", function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var sortCol = e.currentTarget.dataset.sort;\n            self.engine.toggleSort(sortCol);\n            self.sortCol = self.engine.sortCol;\n            self.find(\"\");\n        });\n    }\n    Search.prototype.$ = function(query) {\n        return this.$el.find(query);\n    };\n    //\n    // Search functions\n    //\n    Search.prototype.find = function(query, firstElem) {\n        if (!this.engine.find(query)) return; // nothing changed\n        this.exactMatch = this.engine.exactMatch;\n        this.q = this.engine.query;\n        this.resultSet = this.engine.results;\n        if (firstElem) {\n            this.resultSet = [\n                [\n                    this.engine.typedSearch.searchType,\n                    firstElem\n                ]\n            ].concat(this.resultSet);\n            if (this.resultSet.length > 1 && [\n                \"sortpokemon\",\n                \"sortmove\"\n            ].includes(this.resultSet[1][0])) {\n                var sortRow = this.resultSet[1];\n                this.resultSet[1] = this.resultSet[0];\n                this.resultSet[0] = sortRow;\n            }\n        }\n        if (this.filters) this.resultSet = [\n            [\n                \"html\",\n                this.getFilterText()\n            ]\n        ].concat(this.resultSet);\n        this.renderedIndex = 0;\n        this.renderingDone = false;\n        this.updateScroll();\n        return true;\n    };\n    Search.prototype.addFilter = function(node) {\n        if (!node.dataset.entry) return false;\n        var entry = node.dataset.entry.split(\"|\");\n        var result = this.engine.addFilter(entry);\n        this.filters = this.engine.filters;\n        return result;\n    };\n    Search.prototype.removeFilter = function(e) {\n        var result;\n        if (e) result = this.engine.removeFilter(e.currentTarget.value.split(\":\"));\n        else result = this.engine.removeFilter();\n        this.filters = this.engine.filters;\n        this.find(\"\");\n        return result;\n    };\n    Search.prototype.getFilterText = function(q) {\n        var buf = \"<p>Filters: \";\n        for(var i = 0; i < this.filters.length; i++){\n            var text = this.filters[i][1];\n            if (this.filters[i][0] === \"move\") text = getID(BattleMovedex, text).name;\n            if (this.filters[i][0] === \"pokemon\") text = getID(BattlePokedex, text).name;\n            buf += '<button class=\"filter\" value=\"' + escapeHTML(this.filters[i].join(\":\")) + '\">' + text + ' <i class=\"fa fa-times-circle\"></i></button> ';\n        }\n        if (!q) buf += '<small style=\"color: #888\">(backspace = delete filter)</small>';\n        return buf + \"</p>\";\n    };\n    Search.prototype.updateScroll = function(forceAdd) {\n        if (this.renderingDone) return;\n        var top = this.$viewport.scrollTop();\n        var bottom = top + this.$viewport.height();\n        var windowHeight = $(window).height();\n        var i = this.renderedIndex;\n        var finalIndex = Math.floor(bottom / 33) + 1;\n        if (!forceAdd && finalIndex <= i) return;\n        if (finalIndex < i + 20) finalIndex = i + 20;\n        if (bottom - top > windowHeight && !i) finalIndex = 20;\n        if (forceAdd && finalIndex > i + 40) finalIndex = i + 40;\n        var resultSet = this.resultSet;\n        var buf = \"\";\n        while(i < finalIndex){\n            if (!resultSet[i]) {\n                this.renderingDone = true;\n                break;\n            }\n            var row = resultSet[i];\n            var errorMessage = \"\";\n            var label;\n            if (label = this.engine.filterLabel(row[0])) errorMessage = '<span class=\"col filtercol\"><em>' + label + \"</em></span>\";\n            else if (label = this.engine.illegalLabel(row[1])) errorMessage = '<span class=\"col illegalcol\"><em>' + label + \"</em></span>\";\n            var mStart = 0;\n            var mEnd = 0;\n            if (row.length > 3) {\n                mStart = row[2];\n                mEnd = row[3];\n            }\n            buf += this.renderRow(row[1], row[0], mStart, mEnd, errorMessage, row[1] in this.cur ? ' class=\"cur\"' : \"\");\n            i++;\n        }\n        if (!this.renderedIndex) {\n            this.el.innerHTML = '<ul class=\"utilichart\" style=\"height:' + resultSet.length * 33 + 'px\">' + buf + (!this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : \"\") + \"</ul>\";\n            this.moreVisible = true;\n        } else {\n            if (this.moreVisible) {\n                this.$el.find(\".more\").remove();\n                if (!forceAdd) this.moreVisible = false;\n            }\n            $(this.el.firstChild).append(buf + (forceAdd && !this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : \"\"));\n        }\n        this.renderedIndex = i;\n    };\n    Search.prototype.setType = function(qType, format, set, cur) {\n        this.engine.setType(qType, format, set);\n        this.filters = this.engine.filters;\n        this.sortCol = this.engine.sortCol;\n        this.cur = cur || {};\n        var firstElem;\n        for(var id in cur){\n            firstElem = id;\n            break;\n        }\n        this.find(\"\", firstElem);\n    };\n    /*********************************************************\n   * Rendering functions\n   *********************************************************/ // These all have static versions\n    Search.prototype.renderRow = function(id, type, matchStart, matchLength, errorMessage, attrs) {\n        // errorMessage = '<span class=\"col illegalcol\"><em>' + errorMessage + '</em></span>';\n        switch(type){\n            case \"html\":\n                return '<li class=\"result\">' + id + \"</li>\";\n            case \"header\":\n                return '<li class=\"result\"><h3>' + id + \"</h3></li>\";\n            case \"sortpokemon\":\n                return this.renderPokemonSortRow();\n            case \"sortmove\":\n                return this.renderMoveSortRow();\n            case \"pokemon\":\n                var pokemon = getID(BattlePokedex, id);\n                return this.renderPokemonRow(pokemon, matchStart, matchLength, errorMessage, attrs);\n            case \"move\":\n                var move = getID(BattleMovedex, id);\n                return this.renderMoveRow(move, matchStart, matchLength, errorMessage, attrs);\n            case \"item\":\n                var item = getID(BattleItems, id);\n                return this.renderItemRow(item, matchStart, matchLength, errorMessage, attrs);\n            case \"ability\":\n                var ability = getID(BattleAbilities, id);\n                return this.renderAbilityRow(ability, matchStart, matchLength, errorMessage, attrs);\n            case \"type\":\n                var type = {\n                    name: id[0].toUpperCase() + id.substr(1)\n                };\n                return this.renderTypeRow(type, matchStart, matchLength, errorMessage);\n            case \"egggroup\":\n                // very hardcode\n                var egName;\n                if (id === \"humanlike\") egName = \"Human-Like\";\n                else if (id === \"water1\") egName = \"Water 1\";\n                else if (id === \"water2\") egName = \"Water 2\";\n                else if (id === \"water3\") egName = \"Water 3\";\n                if (egName) {\n                    if (matchLength > 5) matchLength++;\n                } else egName = id[0].toUpperCase() + id.substr(1);\n                var egggroup = {\n                    name: egName\n                };\n                return this.renderEggGroupRow(egggroup, matchStart, matchLength, errorMessage);\n            case \"area\":\n                return this.renderAreaRow({\n                    name: getID(Areas, id).name\n                }, matchStart, matchLength, errorMessage);\n            case \"category\":\n                var category = {\n                    name: id[0].toUpperCase() + id.substr(1),\n                    id: id\n                };\n                return this.renderCategoryRow(category, matchStart, matchLength, errorMessage);\n            case \"article\":\n                var articleTitle = window.BattleArticleTitles && BattleArticleTitles[id] || id[0].toUpperCase() + id.substr(1);\n                var article = {\n                    name: articleTitle,\n                    id: id\n                };\n                return this.renderArticleRow(article, matchStart, matchLength, errorMessage);\n        }\n        return \"Error: not found\";\n    };\n    Search.prototype.renderPokemonSortRow = function() {\n        var buf = '<li class=\"result\"><div class=\"sortrow\">';\n        buf += '<button class=\"sortcol numsortcol' + (!this.sortCol ? \" cur\" : \"\") + '\">' + (!this.sortCol ? \"Sort: \" : this.engine.firstPokemonColumn) + \"</button>\";\n        buf += '<button class=\"sortcol pnamesortcol' + (this.sortCol === \"name\" ? \" cur\" : \"\") + '\" data-sort=\"name\">Name</button>';\n        buf += '<button class=\"sortcol typesortcol' + (this.sortCol === \"type\" ? \" cur\" : \"\") + '\" data-sort=\"type\">Types</button>';\n        buf += '<button class=\"sortcol abilitysortcol' + (this.sortCol === \"ability\" ? \" cur\" : \"\") + '\" data-sort=\"ability\">Abilities</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"hp\" ? \" cur\" : \"\") + '\" data-sort=\"hp\">HP</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"atk\" ? \" cur\" : \"\") + '\" data-sort=\"atk\">Atk</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"def\" ? \" cur\" : \"\") + '\" data-sort=\"def\">Def</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"spa\" ? \" cur\" : \"\") + '\" data-sort=\"spa\">SpA</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"spd\" ? \" cur\" : \"\") + '\" data-sort=\"spd\">SpD</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"spe\" ? \" cur\" : \"\") + '\" data-sort=\"spe\">Spe</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"bst\" ? \" cur\" : \"\") + '\" data-sort=\"bst\">BST</button>';\n        buf += \"</div></li>\";\n        return buf;\n    };\n    Search.prototype.renderMoveSortRow = function() {\n        var buf = '<li class=\"result\"><div class=\"sortrow\">';\n        buf += '<button class=\"sortcol movenamesortcol' + (this.sortCol === \"name\" ? \" cur\" : \"\") + '\" data-sort=\"name\">Name</button>';\n        buf += '<button class=\"sortcol movetypesortcol' + (this.sortCol === \"type\" ? \" cur\" : \"\") + '\" data-sort=\"type\">Type</button>';\n        buf += '<button class=\"sortcol movetypesortcol' + (this.sortCol === \"category\" ? \" cur\" : \"\") + '\" data-sort=\"category\">Cat</button>';\n        buf += '<button class=\"sortcol powersortcol' + (this.sortCol === \"power\" ? \" cur\" : \"\") + '\" data-sort=\"power\">Pow</button>';\n        buf += '<button class=\"sortcol accuracysortcol' + (this.sortCol === \"accuracy\" ? \" cur\" : \"\") + '\" data-sort=\"accuracy\">Acc</button>';\n        buf += '<button class=\"sortcol ppsortcol' + (this.sortCol === \"pp\" ? \" cur\" : \"\") + '\" data-sort=\"pp\">PP</button>';\n        buf += \"</div></li>\";\n        return buf;\n    };\n    Search.prototype.renderPokemonRow = function(pokemon, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!pokemon) return '<li class=\"result\">Unrecognized pokemon</li>';\n        var id = toID(pokemon.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"pokemon/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n        buf += '<span class=\"col numcol\">' + pokemon.num + \"</span> \";\n        // icon\n        buf += '<span class=\"col iconcol\">';\n        buf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n        buf += \"</span> \";\n        // name\n        var name = pokemon.name;\n        var tagStart = pokemon.forme ? name.length - pokemon.forme.length - 1 : 0;\n        if (tagStart) name = name.substr(0, tagStart);\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        if (tagStart) {\n            if (matchLength && matchStart + matchLength > tagStart) {\n                if (matchStart < tagStart) {\n                    matchLength -= tagStart - matchStart;\n                    matchStart = tagStart;\n                }\n                name += \"<small>\" + pokemon.name.substr(tagStart, matchStart - tagStart) + \"<b>\" + pokemon.name.substr(matchStart, matchLength) + \"</b>\" + pokemon.name.substr(matchStart + matchLength) + \"</small>\";\n            } else name += \"<small>\" + pokemon.name.substr(tagStart) + \"</small>\";\n        }\n        buf += '<span class=\"col pokemonnamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        var types = pokemon.types;\n        for(var i = 0; i < types.length; i++)buf += getTypeIcon(types[i]);\n        buf += \"</span> \";\n        var abilities = pokemon.abilities;\n        if (abilities[\"1\"]) buf += '<span class=\"col twoabilitycol\">' + abilities[\"0\"] + \"<br />\" + abilities[\"1\"] + \"</span>\";\n        else buf += '<span class=\"col abilitycol\">' + abilities[\"0\"] + \"</span>\";\n        if (abilities[\"S\"]) {\n            if (abilities[\"H\"]) buf += '<span class=\"col twoabilitycol\">' + (abilities[\"H\"] || \"\") + \"<br />(\" + abilities[\"S\"] + \")</span>\";\n            else buf += '<span class=\"col abilitycol\">(' + abilities[\"S\"] + \")</span>\";\n        } else if (abilities[\"H\"]) buf += '<span class=\"col abilitycol\">' + abilities[\"H\"] + \"</span>\";\n        else buf += '<span class=\"col abilitycol\"></span>';\n        // base stats\n        var stats = pokemon.baseStats;\n        buf += '<span class=\"col statcol\"><em>HP</em><br />' + stats.hp + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Atk</em><br />' + stats.atk + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Def</em><br />' + stats.def + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpA</em><br />' + stats.spa + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpD</em><br />' + stats.spd + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Spe</em><br />' + stats.spe + \"</span> \";\n        var bst = 0;\n        for(i in stats)bst += stats[i];\n        buf += '<span class=\"col bstcol\"><em>BST<br />' + bst + \"</em></span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderTaggedPokemonRowInner = function(pokemon, tag, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"pokemon/\" + toID(pokemon.name) + '\" data-target=\"push\"';\n        var buf = \"<a\" + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n        // tag\n        buf += '<span class=\"col tagcol shorttagcol\">' + tag + \"</span> \";\n        // icon\n        buf += '<span class=\"col iconcol\">';\n        buf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n        buf += \"</span> \";\n        // name\n        var name = pokemon.name;\n        var tagStart = pokemon.forme ? name.length - pokemon.forme.length - 1 : 0;\n        if (tagStart) name = name.substr(0, tagStart) + \"<small>\" + pokemon.name.substr(tagStart) + \"</small>\";\n        buf += '<span class=\"col shortpokemonnamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        for(var i = 0; i < pokemon.types.length; i++)buf += getTypeIcon(pokemon.types[i]);\n        buf += \"</span> \";\n        // abilities\n        buf += '<span style=\"float:left;min-height:26px\">';\n        if (pokemon.abilities[\"1\"]) buf += '<span class=\"col twoabilitycol\">';\n        else buf += '<span class=\"col abilitycol\">';\n        for(var i in pokemon.abilities){\n            var ability = pokemon.abilities[i];\n            if (!ability) continue;\n            if (i === \"1\") buf += \"<br />\";\n            if (i === \"H\") ability = '</span><span class=\"col abilitycol\"><em>' + pokemon.abilities[i] + \"</em>\";\n            buf += ability;\n        }\n        if (!pokemon.abilities[\"H\"]) buf += '</span><span class=\"col abilitycol\">';\n        buf += \"</span>\";\n        buf += \"</span>\";\n        // base stats\n        buf += '<span style=\"float:left;min-height:26px\">';\n        buf += '<span class=\"col statcol\"><em>HP</em><br />' + pokemon.baseStats.hp + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Atk</em><br />' + pokemon.baseStats.atk + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Def</em><br />' + pokemon.baseStats.def + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpA</em><br />' + pokemon.baseStats.spa + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpD</em><br />' + pokemon.baseStats.spd + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Spe</em><br />' + pokemon.baseStats.spe + \"</span> \";\n        var bst = 0;\n        for(i in pokemon.baseStats)bst += pokemon.baseStats[i];\n        buf += '<span class=\"col bstcol\"><em>BST<br />' + bst + \"</em></span> \";\n        buf += \"</span>\";\n        buf += \"</a>\";\n        return buf;\n    };\n    Search.prototype.renderItemRow = function(item, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!item) return '<li class=\"result\">Unrecognized item</li>';\n        var id = toID(item.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"items/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"item|' + escapeHTML(item.name) + '\">';\n        // icon\n        buf += '<span class=\"col itemiconcol\">';\n        buf += '<span style=\"' + getItemIcon(item) + '\"></span>';\n        buf += \"</span> \";\n        // name\n        var name = item.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // desc\n        buf += '<span class=\"col itemdesccol\">' + escapeHTML(item.shortDesc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderAbilityRow = function(ability, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!ability) return '<li class=\"result\">Unrecognized ability</li>';\n        var id = toID(ability.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"abilities/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"ability|' + escapeHTML(ability.name) + '\">';\n        // name\n        var name = ability.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += '<span class=\"col abilitydesccol\">' + escapeHTML(ability.shortDesc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderMoveRow = function(move, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!move) return '<li class=\"result\">Unrecognized move</li>';\n        var id = toID(move.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"moves/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n        // name\n        var name = move.name;\n        var tagStart = name.substr(0, 12) === \"Hidden Power\" ? 12 : 0;\n        if (tagStart) name = name.substr(0, tagStart);\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        if (tagStart) {\n            if (matchLength && matchStart + matchLength > tagStart) {\n                if (matchStart < tagStart) {\n                    matchLength -= tagStart - matchStart;\n                    matchStart = tagStart;\n                }\n                name += \"<small>\" + move.name.substr(tagStart, matchStart - tagStart) + \"<b>\" + move.name.substr(matchStart, matchLength) + \"</b>\" + move.name.substr(matchStart + matchLength) + \"</small>\";\n            } else name += \"<small>\" + move.name.substr(tagStart) + \"</small>\";\n        }\n        buf += '<span class=\"col movenamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(move.type);\n        buf += getCategoryIcon(move.category);\n        buf += \"</span> \";\n        // power, accuracy, pp\n        var pp = move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5;\n        buf += '<span class=\"col labelcol\">' + (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") + \"</span> \";\n        buf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") + \"</span> \";\n        buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + \"</span> \";\n        // desc\n        buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderMoveRowInner = function(move, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"moves/\" + toID(move.name) + '\" data-target=\"push\"';\n        var buf = \"<a\" + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n        // name\n        var name = move.name;\n        var tagStart = name.substr(0, 12) === \"Hidden Power\" ? 12 : 0;\n        if (tagStart) name = name.substr(0, tagStart) + \"<small>\" + move.name.substr(tagStart) + \"</small>\";\n        buf += '<span class=\"col movenamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(move.type);\n        buf += getCategoryIcon(move.category);\n        buf += \"</span> \";\n        // power, accuracy, pp\n        var pp = move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5;\n        buf += '<span class=\"col labelcol\">' + (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") + \"</span> \";\n        buf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") + \"</span> \";\n        buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + \"</span> \";\n        // desc\n        buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + \"</span> \";\n        buf += \"</a>\";\n        return buf;\n    };\n    Search.prototype.renderTaggedMoveRow = function(move, tag, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"moves/\" + toID(move.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n        // tag\n        buf += '<span class=\"col tagcol\">' + tag + \"</span> \";\n        // name\n        var name = move.name;\n        if (name.substr(0, 12) === \"Hidden Power\") name = \"Hidden Power\";\n        buf += '<span class=\"col shortmovenamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(move.type);\n        buf += getCategoryIcon(move.category);\n        buf += \"</span> \";\n        // power, accuracy, pp\n        buf += '<span class=\"col labelcol\">' + (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") + \"</span> \";\n        buf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") + \"</span> \";\n        buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + (move.noPPBoosts ? move.pp : move.pp * 8 / 5) + \"</span> \";\n        // desc\n        buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderTypeRow = function(type, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"types/\" + toID(type.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"type|' + escapeHTML(type.name) + '\">';\n        // name\n        var name = type.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(type.name);\n        buf += \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderCategoryRow = function(category, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"categories/\" + category.id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"category|' + escapeHTML(category.name) + '\">';\n        // name\n        var name = category.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // category\n        buf += '<span class=\"col typecol\">' + getCategoryIcon(category.name) + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderArticleRow = function(article, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"articles/\" + article.id + '\" data-target=\"push\"';\n        var isSearchType = article.id === \"pokemon\" || article.id === \"moves\";\n        if (isSearchType) attrs = ' href=\"' + article.id + '/\" data-target=\"replace\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"article|' + escapeHTML(article.name) + '\">';\n        // name\n        var name = article.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // article\n        if (isSearchType) buf += '<span class=\"col movedesccol\">(search type)</span> ';\n        else buf += '<span class=\"col movedesccol\">(article)</span> ';\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderEggGroupRow = function(egggroup, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"egggroups/\" + toID(egggroup.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"egggroup|' + escapeHTML(egggroup.name) + '\">';\n        // name\n        var name = egggroup.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderTierRow = function(tier, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"tiers/\" + toID(tier.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"tier|' + escapeHTML(tier.name) + '\">';\n        // name\n        var name = tier.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderAreaRow = function(area, matchStart, matchLength, errorMessage) {\n        let attrs = \"\";\n        if (Search.urlRoot) attrs = `href=\"${Search.urlRoot}areas/${toID(area.name)}\" data-target=\"push\"`;\n        let buf = `<li class=\"result\"><a ${attrs}>`;\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += `<span class=\"col namecol\">${area.name}</span> `;\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.gen = 9;\n    Search.renderRow = Search.prototype.renderRow;\n    Search.renderPokemonRow = Search.prototype.renderPokemonRow;\n    Search.renderTaggedPokemonRowInner = Search.prototype.renderTaggedPokemonRowInner;\n    Search.renderItemRow = Search.prototype.renderItemRow;\n    Search.renderAbilityRow = Search.prototype.renderAbilityRow;\n    Search.renderMoveRow = Search.prototype.renderMoveRow;\n    Search.renderMoveRowInner = Search.prototype.renderMoveRowInner;\n    Search.renderTaggedMoveRow = Search.prototype.renderTaggedMoveRow;\n    Search.renderTypeRow = Search.prototype.renderTypeRow;\n    Search.renderCategoryRow = Search.prototype.renderCategoryRow;\n    Search.renderEggGroupRow = Search.prototype.renderEggGroupRow;\n    Search.renderTierRow = Search.prototype.renderTierRow;\n    exports.BattleSearch = Search;\n})(window, jQuery);\n\n\n//# sourceMappingURL=index.78d5f0ee.js.map\n","/**\n * Search\n *\n * Basically just an improved version of utilichart\n *\n * Dependencies: jQuery, battledata, search-index\n * Optional dependencies: pokedex, moves, items, abilities\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n */\n\n(function (exports, $) {\n  \"use strict\";\n\n  function Search(elem, viewport) {\n    this.$el = $(elem);\n    this.el = this.$el[0];\n    this.$viewport = viewport ? $(viewport) : $(window);\n\n    this.urlRoot = \"\";\n    this.q = undefined; // uninitialized\n    this.exactMatch = false;\n\n    this.resultSet = null;\n    this.filters = null;\n    this.sortCol = null;\n    this.renderedIndex = 0;\n    this.renderingDone = true;\n    this.externalFilter = false;\n    this.cur = {};\n    this.$inputEl = null;\n    this.gen = 9;\n    this.mod = null;\n\n    this.engine = new DexSearch();\n    window.search = this;\n\n    var self = this;\n    this.$el.on(\"click\", \".more button\", function (e) {\n      e.preventDefault();\n      self.updateScroll(true);\n    });\n    this.$el.on(\"click\", \".filter\", function (e) {\n      e.preventDefault();\n      self.removeFilter(e);\n      if (self.$inputEl) self.$inputEl.focus();\n    });\n    this.$el.on(\"click\", \".sortcol\", function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var sortCol = e.currentTarget.dataset.sort;\n      self.engine.toggleSort(sortCol);\n      self.sortCol = self.engine.sortCol;\n      self.find(\"\");\n    });\n  }\n\n  Search.prototype.$ = function (query) {\n    return this.$el.find(query);\n  };\n\n  //\n  // Search functions\n  //\n\n  Search.prototype.find = function (query, firstElem) {\n    if (!this.engine.find(query)) return; // nothing changed\n\n    this.exactMatch = this.engine.exactMatch;\n    this.q = this.engine.query;\n    this.resultSet = this.engine.results;\n    if (firstElem) {\n      this.resultSet = [[this.engine.typedSearch.searchType, firstElem]].concat(this.resultSet);\n      if (this.resultSet.length > 1 && [\"sortpokemon\", \"sortmove\"].includes(this.resultSet[1][0])) {\n        var sortRow = this.resultSet[1];\n        this.resultSet[1] = this.resultSet[0];\n        this.resultSet[0] = sortRow;\n      }\n    }\n    if (this.filters) {\n      this.resultSet = [[\"html\", this.getFilterText()]].concat(this.resultSet);\n    }\n\n    this.renderedIndex = 0;\n    this.renderingDone = false;\n    this.updateScroll();\n    return true;\n  };\n  Search.prototype.addFilter = function (node) {\n    if (!node.dataset.entry) return false;\n    var entry = node.dataset.entry.split(\"|\");\n    var result = this.engine.addFilter(entry);\n    this.filters = this.engine.filters;\n    return result;\n  };\n  Search.prototype.removeFilter = function (e) {\n    var result;\n    if (e) {\n      result = this.engine.removeFilter(e.currentTarget.value.split(\":\"));\n    } else {\n      result = this.engine.removeFilter();\n    }\n    this.filters = this.engine.filters;\n    this.find(\"\");\n    return result;\n  };\n  Search.prototype.getFilterText = function (q) {\n    var buf = \"<p>Filters: \";\n    for (var i = 0; i < this.filters.length; i++) {\n      var text = this.filters[i][1];\n      if (this.filters[i][0] === \"move\") text = getID(BattleMovedex, text).name;\n      if (this.filters[i][0] === \"pokemon\") text = getID(BattlePokedex, text).name;\n      buf +=\n        '<button class=\"filter\" value=\"' +\n        escapeHTML(this.filters[i].join(\":\")) +\n        '\">' +\n        text +\n        ' <i class=\"fa fa-times-circle\"></i></button> ';\n    }\n    if (!q) buf += '<small style=\"color: #888\">(backspace = delete filter)</small>';\n    return buf + \"</p>\";\n  };\n  Search.prototype.updateScroll = function (forceAdd) {\n    if (this.renderingDone) return;\n    var top = this.$viewport.scrollTop();\n    var bottom = top + this.$viewport.height();\n    var windowHeight = $(window).height();\n    var i = this.renderedIndex;\n    var finalIndex = Math.floor(bottom / 33) + 1;\n    if (!forceAdd && finalIndex <= i) return;\n    if (finalIndex < i + 20) finalIndex = i + 20;\n    if (bottom - top > windowHeight && !i) finalIndex = 20;\n    if (forceAdd && finalIndex > i + 40) finalIndex = i + 40;\n\n    var resultSet = this.resultSet;\n    var buf = \"\";\n    while (i < finalIndex) {\n      if (!resultSet[i]) {\n        this.renderingDone = true;\n        break;\n      }\n      var row = resultSet[i];\n\n      var errorMessage = \"\";\n      var label;\n      if ((label = this.engine.filterLabel(row[0]))) {\n        errorMessage = '<span class=\"col filtercol\"><em>' + label + \"</em></span>\";\n      } else if ((label = this.engine.illegalLabel(row[1]))) {\n        errorMessage = '<span class=\"col illegalcol\"><em>' + label + \"</em></span>\";\n      }\n\n      var mStart = 0;\n      var mEnd = 0;\n      if (row.length > 3) {\n        mStart = row[2];\n        mEnd = row[3];\n      }\n      buf += this.renderRow(row[1], row[0], mStart, mEnd, errorMessage, row[1] in this.cur ? ' class=\"cur\"' : \"\");\n\n      i++;\n    }\n    if (!this.renderedIndex) {\n      this.el.innerHTML =\n        '<ul class=\"utilichart\" style=\"height:' +\n        resultSet.length * 33 +\n        'px\">' +\n        buf +\n        (!this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : \"\") +\n        \"</ul>\";\n      this.moreVisible = true;\n    } else {\n      if (this.moreVisible) {\n        this.$el.find(\".more\").remove();\n        if (!forceAdd) this.moreVisible = false;\n      }\n      $(this.el.firstChild).append(\n        buf +\n          (forceAdd && !this.renderingDone\n            ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>'\n            : \"\")\n      );\n    }\n    this.renderedIndex = i;\n  };\n  Search.prototype.setType = function (qType, format, set, cur) {\n    this.engine.setType(qType, format, set);\n    this.filters = this.engine.filters;\n    this.sortCol = this.engine.sortCol;\n    this.cur = cur || {};\n    var firstElem;\n    for (var id in cur) {\n      firstElem = id;\n      break;\n    }\n    this.find(\"\", firstElem);\n  };\n\n  /*********************************************************\n   * Rendering functions\n   *********************************************************/\n\n  // These all have static versions\n\n  Search.prototype.renderRow = function (id, type, matchStart, matchLength, errorMessage, attrs) {\n    // errorMessage = '<span class=\"col illegalcol\"><em>' + errorMessage + '</em></span>';\n    switch (type) {\n      case \"html\":\n        return '<li class=\"result\">' + id + \"</li>\";\n      case \"header\":\n        return '<li class=\"result\"><h3>' + id + \"</h3></li>\";\n      case \"sortpokemon\":\n        return this.renderPokemonSortRow();\n      case \"sortmove\":\n        return this.renderMoveSortRow();\n      case \"pokemon\":\n        var pokemon = getID(BattlePokedex, id);\n        return this.renderPokemonRow(pokemon, matchStart, matchLength, errorMessage, attrs);\n      case \"move\":\n        var move = getID(BattleMovedex, id);\n        return this.renderMoveRow(move, matchStart, matchLength, errorMessage, attrs);\n      case \"item\":\n        var item = getID(BattleItems, id);\n        return this.renderItemRow(item, matchStart, matchLength, errorMessage, attrs);\n      case \"ability\":\n        var ability = getID(BattleAbilities, id);\n        return this.renderAbilityRow(ability, matchStart, matchLength, errorMessage, attrs);\n      case \"type\":\n        var type = { name: id[0].toUpperCase() + id.substr(1) };\n        return this.renderTypeRow(type, matchStart, matchLength, errorMessage);\n      case \"egggroup\":\n        // very hardcode\n        var egName;\n        if (id === \"humanlike\") egName = \"Human-Like\";\n        else if (id === \"water1\") egName = \"Water 1\";\n        else if (id === \"water2\") egName = \"Water 2\";\n        else if (id === \"water3\") egName = \"Water 3\";\n        if (egName) {\n          if (matchLength > 5) matchLength++;\n        } else {\n          egName = id[0].toUpperCase() + id.substr(1);\n        }\n        var egggroup = { name: egName };\n        return this.renderEggGroupRow(egggroup, matchStart, matchLength, errorMessage);\n      case \"area\":\n        return this.renderAreaRow({name: getID(Areas, id).name}, matchStart, matchLength, errorMessage);\n      case \"category\":\n        var category = { name: id[0].toUpperCase() + id.substr(1), id: id };\n        return this.renderCategoryRow(category, matchStart, matchLength, errorMessage);\n      case \"article\":\n        var articleTitle =\n          (window.BattleArticleTitles && BattleArticleTitles[id]) || id[0].toUpperCase() + id.substr(1);\n        var article = { name: articleTitle, id: id };\n        return this.renderArticleRow(article, matchStart, matchLength, errorMessage);\n    }\n    return \"Error: not found\";\n  };\n  Search.prototype.renderPokemonSortRow = function () {\n    var buf = '<li class=\"result\"><div class=\"sortrow\">';\n    buf +=\n      '<button class=\"sortcol numsortcol' +\n      (!this.sortCol ? \" cur\" : \"\") +\n      '\">' +\n      (!this.sortCol ? \"Sort: \" : this.engine.firstPokemonColumn) +\n      \"</button>\";\n    buf +=\n      '<button class=\"sortcol pnamesortcol' +\n      (this.sortCol === \"name\" ? \" cur\" : \"\") +\n      '\" data-sort=\"name\">Name</button>';\n    buf +=\n      '<button class=\"sortcol typesortcol' +\n      (this.sortCol === \"type\" ? \" cur\" : \"\") +\n      '\" data-sort=\"type\">Types</button>';\n    buf +=\n      '<button class=\"sortcol abilitysortcol' +\n      (this.sortCol === \"ability\" ? \" cur\" : \"\") +\n      '\" data-sort=\"ability\">Abilities</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"hp\" ? \" cur\" : \"\") + '\" data-sort=\"hp\">HP</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"atk\" ? \" cur\" : \"\") + '\" data-sort=\"atk\">Atk</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"def\" ? \" cur\" : \"\") + '\" data-sort=\"def\">Def</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"spa\" ? \" cur\" : \"\") + '\" data-sort=\"spa\">SpA</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"spd\" ? \" cur\" : \"\") + '\" data-sort=\"spd\">SpD</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"spe\" ? \" cur\" : \"\") + '\" data-sort=\"spe\">Spe</button>';\n    buf +=\n      '<button class=\"sortcol statsortcol' + (this.sortCol === \"bst\" ? \" cur\" : \"\") + '\" data-sort=\"bst\">BST</button>';\n    buf += \"</div></li>\";\n    return buf;\n  };\n  Search.prototype.renderMoveSortRow = function () {\n    var buf = '<li class=\"result\"><div class=\"sortrow\">';\n    buf +=\n      '<button class=\"sortcol movenamesortcol' +\n      (this.sortCol === \"name\" ? \" cur\" : \"\") +\n      '\" data-sort=\"name\">Name</button>';\n    buf +=\n      '<button class=\"sortcol movetypesortcol' +\n      (this.sortCol === \"type\" ? \" cur\" : \"\") +\n      '\" data-sort=\"type\">Type</button>';\n    buf +=\n      '<button class=\"sortcol movetypesortcol' +\n      (this.sortCol === \"category\" ? \" cur\" : \"\") +\n      '\" data-sort=\"category\">Cat</button>';\n    buf +=\n      '<button class=\"sortcol powersortcol' +\n      (this.sortCol === \"power\" ? \" cur\" : \"\") +\n      '\" data-sort=\"power\">Pow</button>';\n    buf +=\n      '<button class=\"sortcol accuracysortcol' +\n      (this.sortCol === \"accuracy\" ? \" cur\" : \"\") +\n      '\" data-sort=\"accuracy\">Acc</button>';\n    buf += '<button class=\"sortcol ppsortcol' + (this.sortCol === \"pp\" ? \" cur\" : \"\") + '\" data-sort=\"pp\">PP</button>';\n    buf += \"</div></li>\";\n    return buf;\n  };\n  Search.prototype.renderPokemonRow = function (pokemon, matchStart, matchLength, errorMessage, attrs) {\n    if (!attrs) attrs = \"\";\n    if (!pokemon) return '<li class=\"result\">Unrecognized pokemon</li>';\n    var id = toID(pokemon.name);\n    if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"pokemon/\" + id + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n\n    buf += '<span class=\"col numcol\">' + pokemon.num + \"</span> \";\n    // icon\n    buf += '<span class=\"col iconcol\">';\n    buf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n    buf += \"</span> \";\n\n    // name\n    var name = pokemon.name;\n    var tagStart = pokemon.forme ? name.length - pokemon.forme.length - 1 : 0;\n    if (tagStart) name = name.substr(0, tagStart);\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    if (tagStart) {\n      if (matchLength && matchStart + matchLength > tagStart) {\n        if (matchStart < tagStart) {\n          matchLength -= tagStart - matchStart;\n          matchStart = tagStart;\n        }\n        name +=\n          \"<small>\" +\n          pokemon.name.substr(tagStart, matchStart - tagStart) +\n          \"<b>\" +\n          pokemon.name.substr(matchStart, matchLength) +\n          \"</b>\" +\n          pokemon.name.substr(matchStart + matchLength) +\n          \"</small>\";\n      } else {\n        name += \"<small>\" + pokemon.name.substr(tagStart) + \"</small>\";\n      }\n    }\n    buf += '<span class=\"col pokemonnamecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    // type\n    buf += '<span class=\"col typecol\">';\n    var types = pokemon.types;\n    for (var i = 0; i < types.length; i++) {\n      buf += getTypeIcon(types[i]);\n    }\n    buf += \"</span> \";\n\n    var abilities = pokemon.abilities;\n    if (abilities[\"1\"]) {\n      buf += '<span class=\"col twoabilitycol\">' + abilities[\"0\"] + \"<br />\" + abilities[\"1\"] + \"</span>\";\n    } else {\n      buf += '<span class=\"col abilitycol\">' + abilities[\"0\"] + \"</span>\";\n    }\n    if (abilities[\"S\"]) {\n      if (abilities[\"H\"]) {\n        buf += '<span class=\"col twoabilitycol\">' + (abilities[\"H\"] || \"\") + \"<br />(\" + abilities[\"S\"] + \")</span>\";\n      } else {\n        buf += '<span class=\"col abilitycol\">(' + abilities[\"S\"] + \")</span>\";\n      }\n    } else if (abilities[\"H\"]) {\n      buf += '<span class=\"col abilitycol\">' + abilities[\"H\"] + \"</span>\";\n    } else {\n      buf += '<span class=\"col abilitycol\"></span>';\n    }\n\n    // base stats\n    var stats = pokemon.baseStats;\n    buf += '<span class=\"col statcol\"><em>HP</em><br />' + stats.hp + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>Atk</em><br />' + stats.atk + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>Def</em><br />' + stats.def + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>SpA</em><br />' + stats.spa + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>SpD</em><br />' + stats.spd + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>Spe</em><br />' + stats.spe + \"</span> \";\n    var bst = 0;\n    for (i in stats) bst += stats[i];\n    buf += '<span class=\"col bstcol\"><em>BST<br />' + bst + \"</em></span> \";\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderTaggedPokemonRowInner = function (pokemon, tag, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"pokemon/\" + toID(pokemon.name) + '\" data-target=\"push\"';\n    var buf = \"<a\" + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n\n    // tag\n    buf += '<span class=\"col tagcol shorttagcol\">' + tag + \"</span> \";\n\n    // icon\n    buf += '<span class=\"col iconcol\">';\n    buf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n    buf += \"</span> \";\n\n    // name\n    var name = pokemon.name;\n    var tagStart = pokemon.forme ? name.length - pokemon.forme.length - 1 : 0;\n    if (tagStart) name = name.substr(0, tagStart) + \"<small>\" + pokemon.name.substr(tagStart) + \"</small>\";\n    buf += '<span class=\"col shortpokemonnamecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    // type\n    buf += '<span class=\"col typecol\">';\n    for (var i = 0; i < pokemon.types.length; i++) {\n      buf += getTypeIcon(pokemon.types[i]);\n    }\n    buf += \"</span> \";\n\n    // abilities\n    buf += '<span style=\"float:left;min-height:26px\">';\n    if (pokemon.abilities[\"1\"]) {\n      buf += '<span class=\"col twoabilitycol\">';\n    } else {\n      buf += '<span class=\"col abilitycol\">';\n    }\n    for (var i in pokemon.abilities) {\n      var ability = pokemon.abilities[i];\n      if (!ability) continue;\n\n      if (i === \"1\") buf += \"<br />\";\n      if (i === \"H\") ability = '</span><span class=\"col abilitycol\"><em>' + pokemon.abilities[i] + \"</em>\";\n      buf += ability;\n    }\n    if (!pokemon.abilities[\"H\"]) buf += '</span><span class=\"col abilitycol\">';\n    buf += \"</span>\";\n    buf += \"</span>\";\n\n    // base stats\n    buf += '<span style=\"float:left;min-height:26px\">';\n    buf += '<span class=\"col statcol\"><em>HP</em><br />' + pokemon.baseStats.hp + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>Atk</em><br />' + pokemon.baseStats.atk + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>Def</em><br />' + pokemon.baseStats.def + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>SpA</em><br />' + pokemon.baseStats.spa + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>SpD</em><br />' + pokemon.baseStats.spd + \"</span> \";\n    buf += '<span class=\"col statcol\"><em>Spe</em><br />' + pokemon.baseStats.spe + \"</span> \";\n    var bst = 0;\n    for (i in pokemon.baseStats) bst += pokemon.baseStats[i];\n    buf += '<span class=\"col bstcol\"><em>BST<br />' + bst + \"</em></span> \";\n    buf += \"</span>\";\n\n    buf += \"</a>\";\n\n    return buf;\n  };\n\n  Search.prototype.renderItemRow = function (item, matchStart, matchLength, errorMessage, attrs) {\n    if (!attrs) attrs = \"\";\n    if (!item) return '<li class=\"result\">Unrecognized item</li>';\n    var id = toID(item.name);\n    if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"items/\" + id + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"item|' + escapeHTML(item.name) + '\">';\n\n    // icon\n    buf += '<span class=\"col itemiconcol\">';\n    buf += '<span style=\"' + getItemIcon(item) + '\"></span>';\n    buf += \"</span> \";\n\n    // name\n    var name = item.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    // desc\n    buf += '<span class=\"col itemdesccol\">' + escapeHTML(item.shortDesc) + \"</span> \";\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderAbilityRow = function (ability, matchStart, matchLength, errorMessage, attrs) {\n    if (!attrs) attrs = \"\";\n    if (!ability) return '<li class=\"result\">Unrecognized ability</li>';\n    var id = toID(ability.name);\n    if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"abilities/\" + id + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"ability|' + escapeHTML(ability.name) + '\">';\n\n    // name\n    var name = ability.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    buf += '<span class=\"col abilitydesccol\">' + escapeHTML(ability.shortDesc) + \"</span> \";\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderMoveRow = function (move, matchStart, matchLength, errorMessage, attrs) {\n    if (!attrs) attrs = \"\";\n    if (!move) return '<li class=\"result\">Unrecognized move</li>';\n    var id = toID(move.name);\n    if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"moves/\" + id + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n\n    // name\n    var name = move.name;\n    var tagStart = name.substr(0, 12) === \"Hidden Power\" ? 12 : 0;\n    if (tagStart) name = name.substr(0, tagStart);\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    if (tagStart) {\n      if (matchLength && matchStart + matchLength > tagStart) {\n        if (matchStart < tagStart) {\n          matchLength -= tagStart - matchStart;\n          matchStart = tagStart;\n        }\n        name +=\n          \"<small>\" +\n          move.name.substr(tagStart, matchStart - tagStart) +\n          \"<b>\" +\n          move.name.substr(matchStart, matchLength) +\n          \"</b>\" +\n          move.name.substr(matchStart + matchLength) +\n          \"</small>\";\n      } else {\n        name += \"<small>\" + move.name.substr(tagStart) + \"</small>\";\n      }\n    }\n    buf += '<span class=\"col movenamecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    // type\n    buf += '<span class=\"col typecol\">';\n    buf += getTypeIcon(move.type);\n    buf += getCategoryIcon(move.category);\n    buf += \"</span> \";\n\n    // power, accuracy, pp\n    var pp = move.pp === 1 || move.noPPBoosts ? move.pp : (move.pp * 8) / 5;\n    buf +=\n      '<span class=\"col labelcol\">' +\n      (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") +\n      \"</span> \";\n    buf +=\n      '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' +\n      (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") +\n      \"</span> \";\n    buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + \"</span> \";\n\n    // desc\n    buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc) + \"</span> \";\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderMoveRowInner = function (move, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"moves/\" + toID(move.name) + '\" data-target=\"push\"';\n    var buf = \"<a\" + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n\n    // name\n    var name = move.name;\n    var tagStart = name.substr(0, 12) === \"Hidden Power\" ? 12 : 0;\n    if (tagStart) name = name.substr(0, tagStart) + \"<small>\" + move.name.substr(tagStart) + \"</small>\";\n    buf += '<span class=\"col movenamecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    // type\n    buf += '<span class=\"col typecol\">';\n    buf += getTypeIcon(move.type);\n    buf += getCategoryIcon(move.category);\n    buf += \"</span> \";\n\n    // power, accuracy, pp\n    var pp = move.pp === 1 || move.noPPBoosts ? move.pp : (move.pp * 8) / 5;\n    buf +=\n      '<span class=\"col labelcol\">' +\n      (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") +\n      \"</span> \";\n    buf +=\n      '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' +\n      (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") +\n      \"</span> \";\n    buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + \"</span> \";\n\n    // desc\n    buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + \"</span> \";\n\n    buf += \"</a>\";\n\n    return buf;\n  };\n  Search.prototype.renderTaggedMoveRow = function (move, tag, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"moves/\" + toID(move.name) + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n\n    // tag\n    buf += '<span class=\"col tagcol\">' + tag + \"</span> \";\n\n    // name\n    var name = move.name;\n    if (name.substr(0, 12) === \"Hidden Power\") name = \"Hidden Power\";\n    buf += '<span class=\"col shortmovenamecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    // type\n    buf += '<span class=\"col typecol\">';\n    buf += getTypeIcon(move.type);\n    buf += getCategoryIcon(move.category);\n    buf += \"</span> \";\n\n    // power, accuracy, pp\n    buf +=\n      '<span class=\"col labelcol\">' +\n      (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") +\n      \"</span> \";\n    buf +=\n      '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' +\n      (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") +\n      \"</span> \";\n    buf +=\n      '<span class=\"col pplabelcol\"><em>PP</em><br />' + (move.noPPBoosts ? move.pp : (move.pp * 8) / 5) + \"</span> \";\n\n    // desc\n    buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + \"</span> \";\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n\n  Search.prototype.renderTypeRow = function (type, matchStart, matchLength, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"types/\" + toID(type.name) + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"type|' + escapeHTML(type.name) + '\">';\n\n    // name\n    var name = type.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // type\n    buf += '<span class=\"col typecol\">';\n    buf += getTypeIcon(type.name);\n    buf += \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderCategoryRow = function (category, matchStart, matchLength, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"categories/\" + category.id + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"category|' + escapeHTML(category.name) + '\">';\n\n    // name\n    var name = category.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // category\n    buf += '<span class=\"col typecol\">' + getCategoryIcon(category.name) + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderArticleRow = function (article, matchStart, matchLength, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"articles/\" + article.id + '\" data-target=\"push\"';\n    var isSearchType = article.id === \"pokemon\" || article.id === \"moves\";\n    if (isSearchType) attrs = ' href=\"' + article.id + '/\" data-target=\"replace\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"article|' + escapeHTML(article.name) + '\">';\n\n    // name\n    var name = article.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // article\n    if (isSearchType) {\n      buf += '<span class=\"col movedesccol\">(search type)</span> ';\n    } else {\n      buf += '<span class=\"col movedesccol\">(article)</span> ';\n    }\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderEggGroupRow = function (egggroup, matchStart, matchLength, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot)\n      attrs = ' href=\"' + Search.urlRoot + \"egggroups/\" + toID(egggroup.name) + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"egggroup|' + escapeHTML(egggroup.name) + '\">';\n\n    // name\n    var name = egggroup.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n  Search.prototype.renderTierRow = function (tier, matchStart, matchLength, errorMessage) {\n    var attrs = \"\";\n    if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"tiers/\" + toID(tier.name) + '\" data-target=\"push\"';\n    var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"tier|' + escapeHTML(tier.name) + '\">';\n\n    // name\n    var name = tier.name;\n    if (matchLength) {\n      name =\n        name.substr(0, matchStart) +\n        \"<b>\" +\n        name.substr(matchStart, matchLength) +\n        \"</b>\" +\n        name.substr(matchStart + matchLength);\n    }\n    buf += '<span class=\"col namecol\">' + name + \"</span> \";\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n\n    buf += \"</a></li>\";\n\n    return buf;\n  };\n\n  Search.prototype.renderAreaRow = function (area, matchStart, matchLength, errorMessage) {\n    let attrs = \"\"\n    if (Search.urlRoot) attrs = `href=\"${Search.urlRoot}areas/${toID(area.name)}\" data-target=\"push\"`\n    let buf = `<li class=\"result\"><a ${attrs}>`;\n\n    // error\n    if (errorMessage) {\n      buf += errorMessage + \"</a></li>\";\n      return buf;\n    }\n    buf += `<span class=\"col namecol\">${area.name}</span> `;\n    buf += \"</a></li>\";\n    return buf;\n  };\n\n  Search.gen = 9;\n  Search.renderRow = Search.prototype.renderRow;\n  Search.renderPokemonRow = Search.prototype.renderPokemonRow;\n  Search.renderTaggedPokemonRowInner = Search.prototype.renderTaggedPokemonRowInner;\n  Search.renderItemRow = Search.prototype.renderItemRow;\n  Search.renderAbilityRow = Search.prototype.renderAbilityRow;\n  Search.renderMoveRow = Search.prototype.renderMoveRow;\n  Search.renderMoveRowInner = Search.prototype.renderMoveRowInner;\n  Search.renderTaggedMoveRow = Search.prototype.renderTaggedMoveRow;\n  Search.renderTypeRow = Search.prototype.renderTypeRow;\n  Search.renderCategoryRow = Search.prototype.renderCategoryRow;\n  Search.renderEggGroupRow = Search.prototype.renderEggGroupRow;\n  Search.renderTierRow = Search.prototype.renderTierRow;\n\n  exports.BattleSearch = Search;\n})(window, jQuery);\n"],"names":["exports","$","Search","elem","viewport","$el","el","$viewport","window","urlRoot","q","undefined","exactMatch","resultSet","filters","sortCol","renderedIndex","renderingDone","externalFilter","cur","$inputEl","gen","mod","engine","DexSearch","search","self","on","e","preventDefault","updateScroll","removeFilter","focus","stopPropagation","currentTarget","dataset","sort","toggleSort","find","prototype","query","firstElem","results","typedSearch","searchType","concat","length","includes","sortRow","getFilterText","addFilter","node","entry","split","result","value","buf","i","text","getID","BattleMovedex","name","BattlePokedex","escapeHTML","join","forceAdd","top","scrollTop","bottom","height","windowHeight","finalIndex","Math","floor","label","row","errorMessage","filterLabel","illegalLabel","mStart","mEnd","renderRow","moreVisible","remove","firstChild","append","innerHTML","setType","qType","format","set","id","type","matchStart","matchLength","attrs","renderPokemonSortRow","renderMoveSortRow","pokemon","renderPokemonRow","move","renderMoveRow","item","BattleItems","renderItemRow","ability","BattleAbilities","renderAbilityRow","toUpperCase","substr","renderTypeRow","egName","egggroup","renderEggGroupRow","renderAreaRow","Areas","category","renderCategoryRow","articleTitle","BattleArticleTitles","renderArticleRow","firstPokemonColumn","toID","num","getPokemonIcon","tagStart","forme","types","getTypeIcon","abilities","stats","baseStats","hp","atk","def","spa","spd","spe","bst","renderTaggedPokemonRowInner","tag","getItemIcon","shortDesc","getCategoryIcon","pp","noPPBoosts","basePower","accuracy","renderMoveRowInner","desc","renderTaggedMoveRow","article","isSearchType","renderTierRow","tier","area","BattleSearch","jQuery"],"version":3,"file":"index.78d5f0ee.js.map"}