{"mappings":"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","sources":["<anon>","js/pokedex-search.js"],"sourcesContent":["var $a397d2746deb56b5$exports = {};\nwindow.PokedexSearchPanel = Panels.Panel.extend({\n    minWidth: 639,\n    maxWidth: 639,\n    sidebarWidth: 280,\n    search: null,\n    events: {\n        \"keyup input.searchbox\": \"updateSearch\",\n        \"change input.searchbox\": \"updateSearch\",\n        \"search input.searchbox\": \"updateSearch\",\n        submit: \"submit\",\n        keydown: \"keydown\",\n        keyup: \"keyup\",\n        click: \"click\",\n        \"click .result a\": \"clickResult\",\n        \"click .filter\": \"removeFilter\",\n        \"mouseover .result a\": \"hoverlink\"\n    },\n    activeLink: null,\n    initialize: function() {\n        var fragment = this.fragment.slice(Config.baseurl.length - 1);\n        var questionIndex = fragment.indexOf(\"?\");\n        if (fragment === \"moves\") fragment = \"moves/\";\n        if (fragment === \"pokemon\") fragment = \"pokemon/\";\n        if (questionIndex >= 0) fragment = fragment.slice(0, questionIndex);\n        var buf = '<div class=\"pfx-body\"><form class=\"pokedex\">';\n        buf += '<h1><a href=\"' + Config.baseurl + '\"\" data-target=\"replace\">Pok&eacute;dex</a></h1>';\n        buf += '<ul class=\"tabbar centered\" style=\"margin-bottom: 18px\"><li><button class=\"button nav-first' + (fragment === \"\" ? \" cur\" : \"\") + '\" value=\"' + Config.baseurl + '\">Search</button></li>';\n        buf += '<li><button class=\"button' + (fragment === \"pokemon/\" ? \" cur\" : \"\") + '\" value=\"' + Config.baseurl + 'pokemon/\">Pok&eacute;mon</button></li>';\n        buf += '<li><button class=\"button nav-last' + (fragment === \"moves/\" ? \" cur\" : \"\") + '\" value=\"' + Config.baseurl + 'moves/\">Moves</button></li></ul>';\n        buf += '<div class=\"searchboxwrapper\"><input class=\"textbox searchbox\" type=\"search\" name=\"q\" value=\"' + escapeHTML(this.$(\".searchbox\").val() || \"\") + '\" autocomplete=\"off\" autofocus placeholder=\"Search Pok&eacute;mon, moves, abilities, items, types, or more\" /></div>';\n        if (fragment === \"\") buf += '<p class=\"buttonbar\"><button class=\"button\"><strong>Pok&eacute;dex Search</strong></button> <button name=\"lucky\" class=\"button\">I\\'m Feeling Lucky</button></p>';\n        buf += \"</form>\";\n        buf += '<div class=\"results\"></div></div>';\n        this.$el.html(buf);\n        var $searchbox = this.$(\".searchbox\");\n        this.$searchbox = $searchbox;\n        this.$searchfilters = null;\n        var results = this.$(\".results\");\n        if (results.length) {\n            var search = this.search = new BattleSearch(results, this.$el);\n            this.$el.on(\"scroll\", function() {\n                search.updateScroll();\n            });\n            if (fragment === \"pokemon/\") {\n                search.setType(\"pokemon\");\n                $searchbox.attr(\"placeholder\", \"Search pokemon OR filter by type, move, ability, egg group\");\n                this.$(\".buttonbar\").remove();\n            } else if (fragment === \"moves/\") {\n                search.setType(\"move\");\n                $searchbox.attr(\"placeholder\", \"Search moves OR filter by type, category, pokemon\");\n                this.$(\".buttonbar\").remove();\n            }\n            this.search.externalFilter = true;\n        } else this.search = null;\n        $searchbox.focus();\n        this.find($searchbox.val());\n        this.checkExactMatch();\n    },\n    updateSearch: function(e) {\n        this.find(e.currentTarget.value);\n    },\n    removeFilter: function(e) {\n        this.search.removeFilter(e);\n        this.updateFilters();\n        this.$searchbox.focus();\n    },\n    updateFilters: function() {\n        // this.search.externalFilter = true;\n        var buf = \"\";\n        if (this.search.qType === \"pokemon\") buf = '<button class=\"filter noclear\" value=\":\">Pok\\xe9mon</button> ';\n        else if (this.search.qType === \"move\") buf = '<button class=\"filter noclear\" value=\":\">Moves</button> ';\n        else {\n            this.$(\".searchbox-filters\").remove();\n            this.$searchbox.css(\"padding\", \"2px\");\n            return;\n        }\n        if (this.search.filters) for(var i = 0; i < this.search.filters.length; i++){\n            var filter = this.search.filters[i];\n            var text = filter[1];\n            if (filter[0] === \"move\") text = getID(BattleMovedex, text).name;\n            if (filter[0] === \"pokemon\") text = getID(BattlePokedex, text).name;\n            buf += '<button class=\"filter\" value=\"' + escapeHTML(filter.join(\":\")) + '\">' + text + ' <i class=\"fa fa-times-circle\"></i></button> ';\n        }\n        if (!this.$searchfilters) this.$searchfilters = $('<div class=\"searchbox-filters\"></div>').insertAfter(this.$searchbox);\n        this.$searchfilters.html(buf);\n        var filterWidth = this.$searchfilters.width();\n        if (filterWidth > this.$searchbox.outerWidth() / 2) this.$searchbox.css(\"padding\", \"\" + (this.$searchfilters.height() + 4) + \"px 2px 2px 2px\");\n        else this.$searchbox.css(\"padding\", \"2px 2px 2px \" + (filterWidth + 6) + \"px\");\n    },\n    submit: function(e) {\n        e.preventDefault();\n        this.$(\".searchbox\").attr(\"placeholder\", \"Type in: Pokemon, move, item, ability...\").focus();\n    },\n    keyup: function(e) {\n        var val = this.$searchbox.val();\n        var id = toID(val);\n        if (!id) return;\n        var lastchar = val.charAt(val.length - 1);\n        if (lastchar === \",\" || lastchar === \" \") {\n            if (id === \"ds\" || id === \"dexsearch\" || id === \"pokemon\") {\n                this.app.go(\"pokemon/\", this, true);\n                return;\n            }\n            if (id === \"ms\" || id === \"movesearch\" || id === \"move\" || id === \"moves\") {\n                this.app.go(\"moves/\", this, true);\n                return;\n            }\n        }\n        if (lastchar === \",\") {\n            if (this.search.addFilter(this.activeLink)) {\n                this.$searchbox.val(\"\");\n                this.find(\"\");\n                return;\n            }\n        }\n    },\n    keydown: function(e) {\n        switch(e.keyCode){\n            case 13:\n                e.preventDefault();\n                e.stopPropagation();\n                if (this.search.addFilter(this.activeLink)) {\n                    this.$searchbox.val(\"\");\n                    this.find(\"\");\n                    return;\n                }\n                if (this.activeLink) {\n                    var path = this.activeLink.pathname.substr(1);\n                    if (path === \"moves/\" || path === \"pokemon/\") {\n                        this.app.go(path, this, true);\n                        return;\n                    }\n                    this.app.go(path, this, false, $(this.activeLink));\n                } else if (!this.$searchbox.val()) this.app.slicePanel(this);\n                break;\n            case 188:\n                if (this.search.addFilter(this.activeLink)) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.$searchbox.val(\"\");\n                    this.find(\"\");\n                    return;\n                }\n                break;\n            case 32:\n                var id = toID(this.$searchbox.val());\n                if (id === \"ds\" || id === \"pokemon\") {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.app.go(\"pokemon/\", this, true);\n                    return;\n                }\n                if (id === \"ms\" || id === \"move\" || id === \"moves\") {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.app.go(\"moves/\", this, true);\n                    return;\n                }\n                break;\n            case 38:\n                e.preventDefault();\n                e.stopPropagation();\n                var $link = $(this.activeLink).parent().prev();\n                while($link[0] && $link[0].firstChild.tagName !== \"A\")$link = $link.prev();\n                if ($link[0] && $link.children()[0]) {\n                    $(this.activeLink).removeClass(\"active\");\n                    this.activeLink = $link.children()[0];\n                    $(this.activeLink).addClass(\"active\");\n                }\n                break;\n            case 40:\n                e.preventDefault();\n                e.stopPropagation();\n                var $link = $(this.activeLink).parent().next();\n                while($link[0] && $link[0].firstChild.tagName !== \"A\")$link = $link.next();\n                if ($link[0] && $link.children()[0]) {\n                    $(this.activeLink).removeClass(\"active\");\n                    this.activeLink = $link.children()[0];\n                    $(this.activeLink).addClass(\"active\");\n                }\n                break;\n            case 27:\n            case 8:\n                if (this.$searchbox.val()) break;\n                if (this.search.removeFilter()) {\n                    this.find(\"\");\n                    return;\n                }\n                if (this.search.qType) {\n                    this.app.go(\"\", this, true);\n                    return;\n                }\n                if (this.app.panels.length > 1) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.app.slicePanel(this);\n                }\n                break;\n        }\n    },\n    click: function(e) {\n        if (e.target.tagName === \"BUTTON\" && $(e.target).closest(\".tabbar\").length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.app.go(e.target.value, this, true);\n            return;\n        }\n        if (e.target.tagName === \"BUTTON\" && e.target.name === \"lucky\") {\n            e.preventDefault();\n            e.stopPropagation();\n            alert([\n                \"That's pretty cool.\",\n                \"Your mom's feeling lucky.\",\n                \"I see.\",\n                \"If you feel lucky for more than four hours, perhaps you should see a doctor.\"\n            ][Math.floor(Math.random() * 4)]);\n            return;\n        }\n        var scrollLoc = this.$el.scrollTop();\n        this.$searchbox.focus();\n        this.$el.scrollTop(scrollLoc);\n    },\n    clickResult: function(e) {\n        if (this.search.addFilter(e.currentTarget)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            this.$searchbox.val(\"\");\n            this.find(\"\");\n            return;\n        }\n    },\n    hoverlink: function(e) {\n        $(this.activeLink).removeClass(\"active\");\n        this.activeLink = e.currentTarget;\n        $(this.activeLink).addClass(\"active\");\n    },\n    find: function(val) {\n        if (!this.search) return;\n        if (!val) val = \"\";\n        this.updateFilters();\n        if (!this.search.find(val)) return;\n        if (this.search.q || this.search.filters) {\n            this.$(\".pokedex\").addClass(\"aboveresults\");\n            this.activeLink = this.search.el.getElementsByTagName(\"a\")[0];\n            $(this.activeLink).addClass(\"active\");\n        } else {\n            this.$(\".pokedex\").removeClass(\"aboveresults\");\n            this.activeLink = null;\n        }\n    },\n    checkExactMatch: function() {\n        if (this.search && this.search.exactMatch && this.search.q !== \"metronome\" && this.search.q !== \"psychic\") setTimeout((function() {\n            this.app.go($(this.activeLink).attr(\"href\"), this, false, $(this.activeLink), true);\n        }).bind(this));\n    }\n});\n\n\n//# sourceMappingURL=index.4ccdf626.js.map\n","window.PokedexSearchPanel = Panels.Panel.extend({\n  minWidth: 639,\n  maxWidth: 639,\n  sidebarWidth: 280,\n  search: null,\n  events: {\n    \"keyup input.searchbox\": \"updateSearch\",\n    \"change input.searchbox\": \"updateSearch\",\n    \"search input.searchbox\": \"updateSearch\",\n    submit: \"submit\",\n    keydown: \"keydown\",\n    keyup: \"keyup\",\n    click: \"click\",\n    \"click .result a\": \"clickResult\",\n    \"click .filter\": \"removeFilter\",\n    \"mouseover .result a\": \"hoverlink\",\n  },\n  activeLink: null,\n  initialize: function () {\n    var fragment = this.fragment.slice(Config.baseurl.length - 1);\n    var questionIndex = fragment.indexOf(\"?\");\n    if (fragment === \"moves\") fragment = \"moves/\";\n    if (fragment === \"pokemon\") fragment = \"pokemon/\";\n    if (questionIndex >= 0) fragment = fragment.slice(0, questionIndex);\n    var buf = '<div class=\"pfx-body\"><form class=\"pokedex\">';\n    buf += '<h1><a href=\"' + Config.baseurl + '\"\" data-target=\"replace\">Pok&eacute;dex</a></h1>';\n    buf +=\n      '<ul class=\"tabbar centered\" style=\"margin-bottom: 18px\"><li><button class=\"button nav-first' +\n      (fragment === \"\" ? \" cur\" : \"\") +\n      '\" value=\"' +\n      Config.baseurl +\n      '\">Search</button></li>';\n    buf +=\n      '<li><button class=\"button' +\n      (fragment === \"pokemon/\" ? \" cur\" : \"\") +\n      '\" value=\"' +\n      Config.baseurl +\n      'pokemon/\">Pok&eacute;mon</button></li>';\n    buf +=\n      '<li><button class=\"button nav-last' +\n      (fragment === \"moves/\" ? \" cur\" : \"\") +\n      '\" value=\"' +\n      Config.baseurl +\n      'moves/\">Moves</button></li></ul>';\n    buf +=\n      '<div class=\"searchboxwrapper\"><input class=\"textbox searchbox\" type=\"search\" name=\"q\" value=\"' +\n      escapeHTML(this.$(\".searchbox\").val() || \"\") +\n      '\" autocomplete=\"off\" autofocus placeholder=\"Search Pok&eacute;mon, moves, abilities, items, types, or more\" /></div>';\n    if (fragment === \"\") {\n      buf +=\n        '<p class=\"buttonbar\"><button class=\"button\"><strong>Pok&eacute;dex Search</strong></button> <button name=\"lucky\" class=\"button\">I\\'m Feeling Lucky</button></p>';\n    }\n    buf += \"</form>\";\n    buf += '<div class=\"results\"></div></div>';\n    this.$el.html(buf);\n    var $searchbox = this.$(\".searchbox\");\n    this.$searchbox = $searchbox;\n    this.$searchfilters = null;\n    var results = this.$(\".results\");\n    if (results.length) {\n      var search = (this.search = new BattleSearch(results, this.$el));\n      this.$el.on(\"scroll\", function () {\n        search.updateScroll();\n      });\n      if (fragment === \"pokemon/\") {\n        search.setType(\"pokemon\");\n        $searchbox.attr(\"placeholder\", \"Search pokemon OR filter by type, move, ability, egg group\");\n        this.$(\".buttonbar\").remove();\n      } else if (fragment === \"moves/\") {\n        search.setType(\"move\");\n        $searchbox.attr(\"placeholder\", \"Search moves OR filter by type, category, pokemon\");\n        this.$(\".buttonbar\").remove();\n      }\n      this.search.externalFilter = true;\n    } else {\n      this.search = null;\n    }\n    $searchbox.focus();\n    this.find($searchbox.val());\n    this.checkExactMatch();\n  },\n  updateSearch: function (e) {\n    this.find(e.currentTarget.value);\n  },\n  removeFilter: function (e) {\n    this.search.removeFilter(e);\n    this.updateFilters();\n    this.$searchbox.focus();\n  },\n  updateFilters: function () {\n    // this.search.externalFilter = true;\n    var buf = \"\";\n    if (this.search.qType === \"pokemon\") {\n      buf = '<button class=\"filter noclear\" value=\":\">Pokémon</button> ';\n    } else if (this.search.qType === \"move\") {\n      buf = '<button class=\"filter noclear\" value=\":\">Moves</button> ';\n    } else {\n      this.$(\".searchbox-filters\").remove();\n      this.$searchbox.css(\"padding\", \"2px\");\n      return;\n    }\n    if (this.search.filters) {\n      for (var i = 0; i < this.search.filters.length; i++) {\n        var filter = this.search.filters[i];\n        var text = filter[1];\n        if (filter[0] === \"move\") text = getID(BattleMovedex, text).name;\n        if (filter[0] === \"pokemon\") text = getID(BattlePokedex, text).name;\n        buf +=\n          '<button class=\"filter\" value=\"' +\n          escapeHTML(filter.join(\":\")) +\n          '\">' +\n          text +\n          ' <i class=\"fa fa-times-circle\"></i></button> ';\n      }\n    }\n    if (!this.$searchfilters) {\n      this.$searchfilters = $('<div class=\"searchbox-filters\"></div>').insertAfter(this.$searchbox);\n    }\n    this.$searchfilters.html(buf);\n    var filterWidth = this.$searchfilters.width();\n    if (filterWidth > this.$searchbox.outerWidth() / 2) {\n      this.$searchbox.css(\"padding\", \"\" + (this.$searchfilters.height() + 4) + \"px 2px 2px 2px\");\n    } else {\n      this.$searchbox.css(\"padding\", \"2px 2px 2px \" + (filterWidth + 6) + \"px\");\n    }\n  },\n  submit: function (e) {\n    e.preventDefault();\n    this.$(\".searchbox\").attr(\"placeholder\", \"Type in: Pokemon, move, item, ability...\").focus();\n  },\n  keyup: function (e) {\n    var val = this.$searchbox.val();\n    var id = toID(val);\n    if (!id) return;\n    var lastchar = val.charAt(val.length - 1);\n    if (lastchar === \",\" || lastchar === \" \") {\n      if (id === \"ds\" || id === \"dexsearch\" || id === \"pokemon\") {\n        this.app.go(\"pokemon/\", this, true);\n        return;\n      }\n      if (id === \"ms\" || id === \"movesearch\" || id === \"move\" || id === \"moves\") {\n        this.app.go(\"moves/\", this, true);\n        return;\n      }\n    }\n    if (lastchar === \",\") {\n      if (this.search.addFilter(this.activeLink)) {\n        this.$searchbox.val(\"\");\n        this.find(\"\");\n        return;\n      }\n    }\n  },\n  keydown: function (e) {\n    switch (e.keyCode) {\n      case 13: // enter\n        e.preventDefault();\n        e.stopPropagation();\n        if (this.search.addFilter(this.activeLink)) {\n          this.$searchbox.val(\"\");\n          this.find(\"\");\n          return;\n        }\n        if (this.activeLink) {\n          var path = this.activeLink.pathname.substr(1);\n          if (path === \"moves/\" || path === \"pokemon/\") {\n            this.app.go(path, this, true);\n            return;\n          }\n          this.app.go(path, this, false, $(this.activeLink));\n        } else if (!this.$searchbox.val()) {\n          this.app.slicePanel(this);\n        }\n        break;\n      case 188: // comma\n        if (this.search.addFilter(this.activeLink)) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.$searchbox.val(\"\");\n          this.find(\"\");\n          return;\n        }\n        break;\n      case 32: // space\n        var id = toID(this.$searchbox.val());\n        if (id === \"ds\" || id === \"pokemon\") {\n          e.preventDefault();\n          e.stopPropagation();\n          this.app.go(\"pokemon/\", this, true);\n          return;\n        }\n        if (id === \"ms\" || id === \"move\" || id === \"moves\") {\n          e.preventDefault();\n          e.stopPropagation();\n          this.app.go(\"moves/\", this, true);\n          return;\n        }\n        break;\n      case 38: // up\n        e.preventDefault();\n        e.stopPropagation();\n        var $link = $(this.activeLink).parent().prev();\n        while ($link[0] && $link[0].firstChild.tagName !== \"A\") $link = $link.prev();\n        if ($link[0] && $link.children()[0]) {\n          $(this.activeLink).removeClass(\"active\");\n          this.activeLink = $link.children()[0];\n          $(this.activeLink).addClass(\"active\");\n        }\n        break;\n      case 40: // down\n        e.preventDefault();\n        e.stopPropagation();\n        var $link = $(this.activeLink).parent().next();\n        while ($link[0] && $link[0].firstChild.tagName !== \"A\") $link = $link.next();\n        if ($link[0] && $link.children()[0]) {\n          $(this.activeLink).removeClass(\"active\");\n          this.activeLink = $link.children()[0];\n          $(this.activeLink).addClass(\"active\");\n        }\n        break;\n      case 27: // esc\n      case 8: // backspace\n        if (this.$searchbox.val()) break;\n\n        if (this.search.removeFilter()) {\n          this.find(\"\");\n          return;\n        }\n        if (this.search.qType) {\n          this.app.go(\"\", this, true);\n          return;\n        }\n        if (this.app.panels.length > 1) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.app.slicePanel(this);\n        }\n        break;\n    }\n  },\n  click: function (e) {\n    if (e.target.tagName === \"BUTTON\" && $(e.target).closest(\".tabbar\").length) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.app.go(e.target.value, this, true);\n      return;\n    }\n    if (e.target.tagName === \"BUTTON\" && e.target.name === \"lucky\") {\n      e.preventDefault();\n      e.stopPropagation();\n      alert(\n        [\n          \"That's pretty cool.\",\n          \"Your mom's feeling lucky.\",\n          \"I see.\",\n          \"If you feel lucky for more than four hours, perhaps you should see a doctor.\",\n        ][Math.floor(Math.random() * 4)],\n      );\n      return;\n    }\n    var scrollLoc = this.$el.scrollTop();\n    this.$searchbox.focus();\n    this.$el.scrollTop(scrollLoc);\n  },\n  clickResult: function (e) {\n    if (this.search.addFilter(e.currentTarget)) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      this.$searchbox.val(\"\");\n      this.find(\"\");\n      return;\n    }\n  },\n  hoverlink: function (e) {\n    $(this.activeLink).removeClass(\"active\");\n    this.activeLink = e.currentTarget;\n    $(this.activeLink).addClass(\"active\");\n  },\n  find: function (val) {\n    if (!this.search) return;\n    if (!val) val = \"\";\n    this.updateFilters();\n    if (!this.search.find(val)) return;\n    if (this.search.q || this.search.filters) {\n      this.$(\".pokedex\").addClass(\"aboveresults\");\n      this.activeLink = this.search.el.getElementsByTagName(\"a\")[0];\n      $(this.activeLink).addClass(\"active\");\n    } else {\n      this.$(\".pokedex\").removeClass(\"aboveresults\");\n      this.activeLink = null;\n    }\n  },\n  checkExactMatch: function () {\n    if (this.search && this.search.exactMatch && this.search.q !== \"metronome\" && this.search.q !== \"psychic\") {\n      setTimeout(\n        function () {\n          this.app.go($(this.activeLink).attr(\"href\"), this, false, $(this.activeLink), true);\n        }.bind(this),\n      );\n    }\n  },\n});\n"],"names":["window","PokedexSearchPanel","Panels","Panel","extend","minWidth","maxWidth","sidebarWidth","search","events","submit","keydown","keyup","click","activeLink","initialize","fragment","slice","Config","baseurl","length","questionIndex","indexOf","buf","escapeHTML","$","val","$el","html","$searchbox","$searchfilters","results","BattleSearch","on","updateScroll","setType","attr","remove","externalFilter","focus","find","checkExactMatch","updateSearch","e","currentTarget","value","removeFilter","updateFilters","qType","css","filters","i","filter","text","getID","BattleMovedex","name","BattlePokedex","join","insertAfter","filterWidth","width","outerWidth","height","preventDefault","id","toID","lastchar","charAt","app","go","addFilter","keyCode","stopPropagation","path","pathname","substr","slicePanel","$link","parent","prev","firstChild","tagName","children","removeClass","addClass","next","panels","target","closest","alert","Math","floor","random","scrollLoc","scrollTop","clickResult","stopImmediatePropagation","hoverlink","q","el","getElementsByTagName","exactMatch","setTimeout","bind"],"version":3,"file":"index.4ccdf626.js.map"}